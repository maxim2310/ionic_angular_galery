import{a as Q,c as W,d as X,e as Y}from"./chunk-EUTEFTDE.js";import{Aa as $,D as n,E as i,F as m,H as f,Ha as R,Ia as U,Ja as V,M as r,N as b,Oa as J,P as _,Pa as K,R as I,S as M,T as O,U as P,da as p,e as C,ea as w,fa as y,ga as x,ha as E,ia as k,ja as L,ka as N,n as S,oa as j,pa as z,qa as F,ra as T,sa as D,ta as q,u as a,ua as A,v as d,va as G,x as c,y as h,ya as H,za as B}from"./chunk-H7G7CLWQ.js";import"./chunk-E4KJ5XS4.js";import"./chunk-HJR7UGEM.js";import"./chunk-CBRX6AIW.js";import"./chunk-JFVLIC7D.js";import"./chunk-2C7P5QT5.js";import"./chunk-MTGMLXCD.js";import"./chunk-4U6PRYVA.js";import"./chunk-HJX2WMCX.js";import"./chunk-Z4V4M3ZT.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{g as v}from"./chunk-PXG3O44D.js";var he=(()=>{let l=class l{constructor(e,o,t,s){this.fb=e,this.navService=o,this.authService=t,this.alertController=s,this.errors={required:"This field is required",email:"Please enter a valid email address."},this.isLogin$=this.authService.user$.pipe(C(g=>!!g)),Q({lockClosedOutline:W,mailOutline:X}),this.form=this.fb.group({email:["",[p.required,p.email]],password:["",p.required]})}getControl(e){return this.form.get(e)}getError(e){var o,t,s;if((o=this.getControl(e))!=null&&o.touched&&this.getControl(e)&&(t=this.getControl(e))!=null&&t.errors){let g=Object.keys((s=this.getControl(e))==null?void 0:s.errors)[0];return this.errors[g]}return""}onSubmit(){return v(this,null,function*(){try{yield this.authService.login(this.form.value),this.navService.home()}catch(e){e.message?yield(yield this.alertController.create({header:e.message,buttons:["Close"]})).present():console.error("Something went wrong while creating the user",e)}})}toSignUp(){this.navService.registration()}toLogin(){this.navService.login()}logOut(){this.authService.logOut(),this.navService.home()}backHome(){this.navService.home()}};l.\u0275fac=function(o){return new(o||l)(d(L),d(K),d(J),d(R))},l.\u0275cmp=S({type:l,selectors:[["app-login"]],standalone:!0,features:[_],decls:32,vars:11,consts:[[3,"isLogin"],[1,"ion-justify-content-center"],["size","12","sizeMd","8","sizeLg","7"],["mode","ios",1,"form",3,"ngSubmit","formGroup"],[1,"input-wrapper"],["type","email","fill","outline","mode","md","aria-label","email","formControlName","email"],["slot","start","name","mail-outline","size","small"],["color","danger"],["type","password","aria-label","password","fill","outline","mode","md","formControlName","password"],["slot","start","name","lock-closed-outline","size","small","aria-hidden","true"],["expand","full","shape","round","fill","clear","type","submit",1,"submit-button",3,"disabled"],["expand","full","shape","round","fill","outline",1,"signup-button",3,"click"]],template:function(o,t){o&1&&(m(0,"app-header",0),I(1,"async"),n(2,"ion-content")(3,"ion-row",1)(4,"ion-col",2)(5,"ion-card")(6,"ion-card-header")(7,"ion-card-title"),r(8,"Log in"),i(),n(9,"ion-card-subtitle"),r(10,"Log in by entering you email address and password."),i()(),n(11,"ion-card-content")(12,"form",3),f("ngSubmit",function(){return t.onSubmit()}),n(13,"div",4)(14,"ion-label"),r(15,"Email address"),i(),n(16,"ion-input",5),m(17,"ion-icon",6),i(),n(18,"ion-note",7),r(19),i()(),n(20,"div",4)(21,"ion-label"),r(22,"Password"),i(),n(23,"ion-input",8),m(24,"ion-icon",9),i(),n(25,"ion-note",7),r(26),i()(),n(27,"ion-button",10),r(28," Log in "),i()()(),n(29,"ion-card-content")(30,"ion-button",11),f("click",function(){return t.toSignUp()}),r(31," New Account "),i()()()()()()),o&2&&(c("isLogin",M(1,9,t.isLogin$)),a(12),c("formGroup",t.form),a(6),h("visible",t.getError("email")),a(),b(t.getError("email")),a(6),h("visible",t.getError("password")),a(),b(t.getError("password")),a(),c("disabled",t.form.invalid))},dependencies:[D,N,x,w,y,E,k,B,z,A,q,F,V,H,T,$,G,U,j,P,O,Y],styles:["[_nghost-%COMP%]{display:block}.input-wrapper[_ngcontent-%COMP%]{margin-bottom:10px}.input-wrapper[_ngcontent-%COMP%]:first-child{margin-bottom:20px}ion-button[_ngcontent-%COMP%]{min-height:35px}.submit-button[_ngcontent-%COMP%]{margin-top:30px;--border-radius: 4px;--background: var(--ion-black);color:var(--ion-color-primary-contrast)}.signup-button[_ngcontent-%COMP%]{--border-radius: 4px;color:var(--ion-black)}ion-card[_ngcontent-%COMP%]{box-shadow:none}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{background:var(--ion-background)}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{--color: var(--ion-black);text-align:center;font-weight:900}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{--color: var(--ion-color-primary);text-align:center;font-size:10px}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding-inline-start:25px;padding-inline-end:25px;padding-top:40px}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]:last-child{padding-top:20px;padding-bottom:40px}"],changeDetection:0});let u=l;return u})();export{he as LoginComponent};
