import{a as Q,c as W,d as X,e as Y}from"./chunk-EUTEFTDE.js";import{Aa as R,D as i,E as o,F as p,H as S,Ha as $,Ia as U,Ja as V,M as a,N as h,Oa as J,P,Pa as K,R as I,S as y,T as E,U as M,da as m,e as b,ea as _,fa as O,ga as x,ha as k,ia as N,ja as L,ka as T,n as w,oa as j,pa as z,qa as F,ra as q,ta as D,u as r,ua as G,v as c,va as A,x as u,y as g,ya as B,za as H}from"./chunk-H7G7CLWQ.js";import"./chunk-E4KJ5XS4.js";import"./chunk-HJR7UGEM.js";import"./chunk-CBRX6AIW.js";import"./chunk-JFVLIC7D.js";import"./chunk-2C7P5QT5.js";import"./chunk-MTGMLXCD.js";import"./chunk-4U6PRYVA.js";import"./chunk-HJX2WMCX.js";import"./chunk-Z4V4M3ZT.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{g as C}from"./chunk-PXG3O44D.js";var fe=(()=>{let l=class l{constructor(t,n,e,s){this.fb=t,this.authService=n,this.alertController=e,this.navService=s,this.errors={required:"This field is required",email:"Please enter a valid email address.",minLength:"This field must have length at least 6",notSame:"This field must match the password field"},this.isLogin$=this.authService.user$.pipe(b(d=>!!d)),Q({lockClosedOutline:W,mailOutline:X}),this.form=this.fb.group({email:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]],rePassword:["",[m.required,this._isPasswordMatch()]]})}_isPasswordMatch(){return()=>{var e,s,d,v;let t=(s=(e=this.form)==null?void 0:e.get("password"))==null?void 0:s.value,n=(v=(d=this.form)==null?void 0:d.get("rePassword"))==null?void 0:v.value;return t===n?null:{notSame:!0}}}getControl(t){return this.form.get(t)}getError(t){var n,e,s;if((n=this.getControl(t))!=null&&n.touched&&this.getControl(t)&&(e=this.getControl(t))!=null&&e.errors){let d=Object.keys((s=this.getControl(t))==null?void 0:s.errors)[0];return this.errors[d]}return""}onSubmit(){return C(this,null,function*(){try{yield this.authService.createUser(this.form.value),this.navService.home()}catch(t){t.message?(yield(yield this.alertController.create({header:t.message,buttons:["Close"]})).present(),this.form.reset()):console.error("Something went wrong while creating the user",t)}})}};l.\u0275fac=function(n){return new(n||l)(c(L),c(J),c($),c(K))},l.\u0275cmp=w({type:l,selectors:[["app-registration"]],standalone:!0,features:[P],decls:34,vars:14,consts:[[3,"isLogin"],[1,"ion-justify-content-center"],["size","12","sizeMd","7","sizeLg","6"],["mode","ios",1,"form",3,"ngSubmit","formGroup"],[1,"input-wrapper"],["type","email","fill","outline","mode","md","aria-label","email","formControlName","email"],["slot","start","name","mail-outline","size","small"],["color","danger"],["type","password","aria-label","password","fill","outline","mode","md","formControlName","password"],["slot","start","name","lock-closed-outline","size","small","aria-hidden","true"],["type","password","aria-label","password","fill","outline","mode","md","formControlName","rePassword"],["slot","start","name","lock-closed-outline","size","small"],["expand","full","shape","round","fill","clear","type","submit",1,"submit-button",3,"disabled"]],template:function(n,e){n&1&&(p(0,"app-header",0),I(1,"async"),i(2,"ion-content")(3,"ion-row",1)(4,"ion-col",2)(5,"ion-card")(6,"ion-card-header")(7,"ion-card-title"),a(8,"Sign Up"),o()(),i(9,"ion-card-content")(10,"form",3),S("ngSubmit",function(){return e.onSubmit()}),i(11,"div",4)(12,"ion-label"),a(13,"Email address"),o(),i(14,"ion-input",5),p(15,"ion-icon",6),o(),i(16,"ion-note",7),a(17),o()(),i(18,"div",4)(19,"ion-label"),a(20,"Password"),o(),i(21,"ion-input",8),p(22,"ion-icon",9),o(),i(23,"ion-note",7),a(24),o()(),i(25,"div",4)(26,"ion-label"),a(27,"Password Confirmation"),o(),i(28,"ion-input",10),p(29,"ion-icon",11),o(),i(30,"ion-note",7),a(31),o()(),i(32,"ion-button",12),a(33," Create account "),o()()()()()()()),n&2&&(u("isLogin",y(1,12,e.isLogin$)),r(10),u("formGroup",e.form),r(6),g("visible",e.getError("email")),r(),h(e.getError("email")),r(6),g("visible",e.getError("password")),r(),h(e.getError("password")),r(6),g("visible",e.getError("rePassword")),r(),h(e.getError("rePassword")),r(),u("disabled",e.form.invalid))},dependencies:[H,D,q,F,G,R,z,V,B,A,j,U,M,E,T,x,_,O,k,N,Y],styles:["[_nghost-%COMP%]{display:block}.input-wrapper[_ngcontent-%COMP%]{margin-bottom:10px}.input-wrapper[_ngcontent-%COMP%]:first-child{margin-bottom:20px}ion-button[_ngcontent-%COMP%]{min-height:35px}.submit-button[_ngcontent-%COMP%]{margin-top:30px;--border-radius: 4px;--background: var(--ion-black);color:var(--ion-color-primary-contrast)}ion-card[_ngcontent-%COMP%]{box-shadow:none}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{background:var(--ion-background)}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{--color: var(--ion-black);text-align:center;font-weight:900}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding-inline-start:25px;padding-inline-end:25px;padding-bottom:80px;padding-top:40px}"],changeDetection:0});let f=l;return f})();export{fe as RegistrationComponent};
